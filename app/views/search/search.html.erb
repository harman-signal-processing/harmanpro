<h1>Search Results</h1>

<div class="row">
  <div class="large-12 medium-12 small-12 columns">
    <% if @results.length > 0 %>
    <div id="search_results_count_message"><%=@results.total_entries%> results found, showing <%= results_item_count_range_for_page(@results) %> for: <strong><%=@query%></strong></div>
      <%= paginate @results %>
      <ul id="search_results" class="large-block-grid-3">
        <%count = 1%>
        <% @results.each do |result| %>
          <% next if result.respond_to?(:live?) && !result.live? %>
          <li>
            <div class="result-type-header"><strong><%= category_name(result.class.name)%></strong>: <span class="result-item-number"><%=current_item_number(@results, count)%></span></div>
            
            <!-- item title link with translation -->
            <%#= link_to translate_content(result, result.link_name_method), page_link(result), class:"result-item-title-link" %>
            
            <!-- item title link without translation -->
            <%= link_to result.link_name, page_link(result), class:"result-item-title-link" %>
            
            <!-- item image link  -->
            <% image = get_result_image(result)%>
            <% if image.present? %>
              <%= link_to image_tag(image), page_link(result), class:"result-item-image-link" %>
            <%end%>
            
            <!-- item description with translation -->
            <%#=result_description(result)%><!--<br />            -->
            
            <!-- item description without translation -->
            <% if result.content_preview && !result.content_preview.blank? %>
              <%= truncate(strip_html(result.content_preview).lstrip, length: 200) %><br />
            <% end %>
            
            <span class="search_link">
              <%#= link_to page_link(result), page_link(result) %>
            </span>
          </li>
          <%count += 1%>
        <% end %>
      </ul>
      <%= paginate @results %>
    <% else %>
      <p><i>No results found.</i></p>
    <% end %>
  </div>
</div>
